{% extends "base.html" %}

{% block title %}My Tasks{% endblock %}

{% block content %}
    <h2>Tasks List</h2>

    {% for task in tasks %}
        <div class="task {% if task.is_overdue %}overdue{% endif %}">
            <h3>{{ task.title }}</h3>

            <p>{{ task.description }}</p>

            <p>
                <strong>Deadline:</strong> {{ task.deadline }}
                {% if task.is_overdue %}
                    <span style="color: red;">(overdue)</span>
                {% endif %}
            </p>

            {% if task.category %}
                <span class="category" style="background: {{ task.category.color }}">
                    {{ task.category.title }}
                </span>
            {% endif %}

            <p>
                <strong>Status:</strong>
                {% if task.is_completed %}
                    ✔️ completed
                {% else %}
                    ⏳ in progress
                {% endif %}
            </p>
        </div>

    {% empty %}
        <p>You have no tasks.</p>
    {% endfor %}
{% endblock %}